<!DOCTYPE html>
<html lang="en">
<head>
    <!-- meta tags-->
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- page title-->
    <title>San Francisco</title>
    <!--favicon-->
    <link href="images/favicon.ico" rel="icon">
    <!-- css stylesheets-->
    <link href="css/normalize.css" rel="stylesheet">
    <link href="css/jquery-ui.min.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Noto+Sans" rel="stylesheet">
</head>
<body>
    <!--the entire page is housed inside this div-->
    <div class="box">
        <!--side bar for the page-->
        <div id="side-bar">
            <input type="button" id="show-less-more" data-bind="click: $root.ShowLessMore, value: SomeValue">
            <h1>Locations of Interest in<br> San Francisco</h1>
            <input id="enter-search" placeholder="Filter Locations" type="search">
            <button id="filter"><i class="fa fa-filter" aria-hidden="true"></i>   Filter</button>
            <input id="toggle-heart" type="checkbox" />
            <label for="toggle-heart">‚ù§</label>
            <hr>
            <div class="loc-list">
                <ul class="locations" data-bind="foreach: SFlocations">
                    <!-- will be populated by knockout-->
                    <li>
                        <span data-bind="text: title"></span>
                    </li>
                </ul>
            </div>
        </div>
        <div id="map">
            <!--the map itself! will be populated by javascript-->
        </div>
    </div>


    <script src="js/jquery-3.0.0.min.js"></script>
    <script src="js/jquery-ui.min.js"></script>
    <script src="js/knockout.js"></script>
    <script src="js/AppViewModel.js"></script>
    <script src="https://use.fontawesome.com/83638a08d2.js"></script>
    <script>
        var map; //map variable
        var markers = []; //array to push markers
        function initMap() {
            //function to initialise the map with given coordinates
            map = new google.maps.Map(document.getElementById("map"),{
                center: {lat: 37.7749, lng: -122.4525},
               zoom: 13
            });
            //array of locations in san francisco
            var locations = [
                {title: 'Alcatraz Islands', location: {lat: 37.8270 , lng: -122.4230}},
                {title: "Fisherman's Wharf", location: {lat: 37.8080 , lng: -122.4177 }},
                {title: 'Golden Gate Bridge', location: {lat: 37.8199 , lng: -122.4783 }},
                {title: 'Union Square', location: {lat: 37.7879 , lng: -122.4075 }},
                {title: 'Pier 39', location: {lat: 37.8087 , lng: -122.4098 }},
                {title: 'Golden Gate Park', location: {lat: 37.7694 , lng: -122.4862 }},
                {title: 'Chinatown', location: {lat: 37.7941 , lng: -122.4078 }},
                {title: 'AT&T Park', location: {lat: 37.7786 , lng: -122.3893 }},
                {title: 'Lombard Street', location: {lat: 37.8021 , lng: -122.4187 }},
                {title: 'Ghirardelli Square', location: {lat: 37.8060 , lng: -122.4230 }},
                {title: 'Coit Tower', location: {lat: 37.8024 , lng: -122.4058 }},
                {title: 'Aquarium of the Bay', location: {lat: 37.8088 , lng: -122.4093 }},
                {title: 'Presisdio of San Francisco', location: {lat: 37.7989 , lng: -122.4662 }},
                {title: 'Legion of Honor', location: {lat: 37.7845 , lng: -122.5008 }},
                {title: 'Twin Peaks', location: {lat: 37.7521 , lng: -122.4474 }},
                {title: 'Angel Islands', location: {lat: 37.8609 , lng:-122.4326 }},
                {title: 'San Francisco Zoo', location: {lat: 37.7330 , lng:  -122.5030 }},
                {title: 'Ocean Beach', location: {lat: 37.7594 , lng: -122.5104 }},
            ];


            //variable to store infowindow
            var largeInfowindow = new google.maps.InfoWindow();
            //variable to store the bounds
            var bounds = new google.maps.LatLngBounds();

            for (var i = 0; i < locations.length; i++) {

                var position = locations[i].location; //position of the location at ith index
                var title = locations[i].title; //name of the location in question
                //marker created
                var marker = new google.maps.Marker({
                    map: map,
                    position: position,
                    title: title,
                    animation: google.maps.Animation.DROP,
                    id: i
                });
                //push the newly created marker to the array
                markers.push(marker);
                marker.addListener('click', function() {
                    //will call the function to populate the infowindow
                    populateInfoWindow(this, largeInfowindow);
                });
                //extend boundaries of the map according to the lat long of the place
                bounds.extend(markers[i].position);
            }
            //make sure the map 'fits' to the bounds
            map.fitBounds(bounds);

        }

        //will populate the infowindow
        function populateInfoWindow(marker, infowindow) {
            // Check to make sure the infowindow is not already opened on this marker.
            if (infowindow.marker != marker) {
                infowindow.marker = marker;
                infowindow.setContent('<div>' + marker.title + '</div>');
                infowindow.open(map, marker);
                // Make sure the marker property is cleared if the infowindow is closed.
                infowindow.addListener('closeclick',function(){
                    infowindow.setMarker(null);
                });
            }
        }

    </script>
    <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAQo6vhWd69Kht6Rf4gxNOdJgnz2GcW6ps&v=3&callback=initMap">
    </script>
</body>
</html>